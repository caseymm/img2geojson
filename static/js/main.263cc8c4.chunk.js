(this.webpackJsonpimg2geojson=this.webpackJsonpimg2geojson||[]).push([[0],{12:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var l=a(0),i=a.n(l),c=a(18),n=a.n(c),o=(a(28),a(12),a(13),a(21)),s=a(2),r=a(8),d=a.n(r),p=a(19),m=a.n(p),b=a(23),h=a(1);let j;var y=function({open:e}){const{getRootProps:t,getInputProps:a,acceptedFiles:l}=Object(b.a)({}),i=l.map((e=>Object(h.jsx)("img",{src:URL.createObjectURL(e)},e.path)));return l.forEach((e=>{j&&j===e.path||(j=e.path,console.log(e))})),Object(h.jsxs)("div",{className:"allInputContainer",children:[l.length>0&&Object(h.jsx)("div",{className:"droppedImage",children:i}),0===l.length&&Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{...t({className:"dropzone"}),children:[Object(h.jsx)("input",{...a()}),Object(h.jsx)("p",{children:"Drag and drop a file here or click to select a file"})]})})]})},g=a(11),u=a.n(g),x=a(22);a(68);d.a.accessToken="pk.eyJ1IjoiY2FzZXltbWlsZXIiLCJhIjoiY2lpeHY1bnJ1MDAyOHVkbHpucnB1dGRmbyJ9.TzUoCLwyeDoLjh3tkDSD4w";class O extends l.Component{constructor(e){super(e),this.state={lng:-98.78320225360663,lat:40.45646421496375,zoom:3.5,mapOpacity:.5,imageOpacity:.5,imageWidth:800},this.mapContainer=i.a.createRef(),this.handleChange=this.handleChange.bind(this)}componentDidMount(){const{lng:e,lat:t,zoom:a}=this.state;this.map=new d.a.Map({container:this.mapContainer.current,style:"mapbox://styles/caseymmiler/cl45xkrmg000714loppfn16v6",center:[e,t],zoom:a});const l=new d.a.ScaleControl({maxWidth:150,unit:"imperial"});this.map.addControl(l),l.setUnit("imperial"),this.Draw=new u.a({displayControlsDefault:!1,controls:{polygon:!0,line_string:!0,trash:!0},modes:Object.assign(u.a.modes,{draw_polygon:x.a}),styles:[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.2}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.2}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":4}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":4}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":4}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":4}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.2}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":4}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":4}}]}),this.map.addControl(new m.a({accessToken:d.a.accessToken,mapboxgl:d.a,marker:!1})),this.map.addControl(this.Draw)}handleChange(e){if(this.setState({[e.target.name]:e.target.value}),"mapOpacity"===e.target.name){document.querySelector(".mapboxgl-canvas").style.opacity=e.target.value}if("imageOpacity"===e.target.name)try{document.querySelector(".droppedImage").style.opacity=e.target.value}catch(t){console.error("no image yet")}if("imageWidth"===e.target.name)try{document.querySelector(".droppedImage").style.width=`${e.target.value}px`}catch(t){console.error("no image yet")}}render(){const e=()=>{console.log("click lock"),this.map.boxZoom.disable(),this.map.scrollZoom.disable(),this.map.doubleClickZoom.disable(),this.map.touchZoomRotate.disable()},t=()=>{console.log("click unlock"),this.map.boxZoom.enable(),this.map.scrollZoom.enable(),this.map.doubleClickZoom.enable(),this.map.touchZoomRotate.enable()},a=()=>{this.map.setStyle("mapbox://styles/caseymmiler/cl466jhd2000515o4sqpaul44"),document.querySelector(".mapboxgl-canvas").style.opacity="1"},l=()=>{this.map.setStyle("mapbox://styles/caseymmiler/cl45xkrmg000714loppfn16v6")},i=()=>{const e=this.map.getZoom();this.map.setZoom(e+.01)},c=()=>{const e=this.map.getZoom();this.map.setZoom(e-.01)},n=()=>{const e=this.Draw.getAll();if(e.features.length>0){var t="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e));document.getElementById("export").setAttribute("href","data:"+t),document.getElementById("export").setAttribute("download","data.geojson"),document.getElementById("export").click()}else alert("Nothing to export")};return Object(h.jsxs)("div",{children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{ref:this.mapContainer,className:"map-container"}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)("p",{children:"Drawing Tools"}),Object(h.jsx)("p",{className:"header special",children:"Zoom Tools"}),Object(h.jsx)("p",{className:"small",children:"Scroll to zoom"}),Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("button",{className:"lock",onClick:()=>e()}),Object(h.jsx)("button",{className:"unlock",onClick:()=>t()})]}),Object(h.jsx)("p",{className:"small",children:"Finite zoom"}),Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("button",{onClick:()=>c(),children:Object(h.jsx)("span",{children:"\u2796"})}),Object(h.jsx)("button",{onClick:()=>i(),children:Object(h.jsx)("span",{children:"\u2795"})})]}),Object(h.jsx)("p",{className:"header",children:"Style controls"}),Object(h.jsx)("button",{onClick:()=>a(),children:"set blank style"}),Object(h.jsx)("button",{onClick:()=>l(),children:"reset style"}),Object(h.jsx)("p",{className:"header",children:"Opacity controls"}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("div",{className:"slider-label",children:["Map Opacity:",Object(h.jsx)("div",{className:"range-label",children:this.state.mapOpacity})]}),Object(h.jsx)("input",{type:"range",className:"range",name:"mapOpacity",min:"0",max:"1",step:".01",value:this.state.mapOpacity,onChange:this.handleChange})]}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("div",{className:"slider-label",children:["Image Opacity:",Object(h.jsx)("div",{className:"range-label",children:this.state.imageOpacity})]}),Object(h.jsx)("input",{type:"range",className:"range",name:"imageOpacity",min:"0",max:"1",step:".01",value:this.state.imageOpacity,onChange:this.handleChange})]}),Object(h.jsx)("p",{className:"header",children:"Image controls"}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("div",{className:"slider-label",children:["Image width:",Object(h.jsx)("div",{className:"range-label",children:this.state.imageWidth})]}),Object(h.jsx)("input",{type:"range",className:"range",name:"imageWidth",min:"100",max:"2000",step:"1",value:this.state.imageWidth,onChange:this.handleChange})]}),Object(h.jsx)("p",{className:"header"}),Object(h.jsx)("button",{className:"geojson",onClick:()=>n(),children:"Download GeoJSON"}),Object(h.jsx)("a",{id:"export",children:"file"})]}),Object(h.jsxs)("span",{className:"attribute",children:["by ",Object(h.jsx)("a",{href:"https://twitter.com/caseymmiller",children:"@caseymmiller"})]})]})}}var f=e=>Object(h.jsx)(O,{});class v extends i.a.Component{render(){return Object(h.jsx)("div",{className:"about",children:Object(h.jsx)("h1",{children:"About this project"})})}}var w=()=>Object(h.jsx)(v,{});class k extends i.a.PureComponent{render(){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/",element:Object(h.jsx)(f,{})}),Object(h.jsx)(s.a,{exact:!0,path:"/about",element:Object(h.jsx)(w,{})})]})})}}n.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.263cc8c4.chunk.js.map